---
title: "react.jsをさくっと試してみる"
date: "2021-06-26"
avatar: './logo.png'
---

# インストールしたかったら
```
npx create-react-app my-app
cd my-app
```

# ブラウザから確認
```
npm start
```

# ビルド
```
npm run build
```

# コンポーネントの作成とprops
src/List.jsを作る。
```javascript
export const List = ({ title, items }) => {

    const listItems = items.map((item) => 
        <li key={item}>{item}</li>
    );
    return (
        <div>
            <h1>{title}</h1>
            <ul>
                {listItems}
            </ul>
        </div>
    )
}
```

# コンポーネント内で他のコンポーネントを利用する
src/App.js
```javascript
import { List } from "./List";

function App() {

  return (
    <div>
      <List title="取り扱い言語一覧" items={["java","node","go"]} />
    </div>
  );
}

export default App;
```



# stateを使ってみる
src/Counter.js
```javascript
// 関数コンポーネント内で state を使えるようにするため、useState をインポート 
import React, { useState } from 'react'

const Counter = () => {
    // countの初期値として、1~10までのランダムな数値を生成
    const initialState = Math.floor(Math.random() * 10) + 1
    // count という名前の state 変数を宣言、初期値 initialState をセット
    const [count, setCount] = useState(initialState)

    return (
        <>
            <p>現在の数字は{count}です</p>
            {/* setCount()は、countを更新するための関数。countを引数で受け取ることも出来る */}
            <button onClick={() => setCount(prevState => prevState + 1)}>
                + 1
            </button>
            <button onClick={() => setCount(count - 1)}>- 1</button>
            <button onClick={() => setCount(0)}>０</button>
            <button onClick={() => setCount(initialState)}>最初の数値に戻す</button>
        </>
    )
}

export default Counter
```

src/App.js
```javascript
import  Counter from "./Counter";

function App() {

  return (
    <div>
      <Counter/>
    </div>
  );
}

export default App;
```

# クラスコンポーネント化
src/Counter.js
```javascript
import React from 'react'

// countの初期値として、1~10までのランダムな数値を生成 
const initialState = Math.floor(Math.random() * 10) + 1

export class Counter extends React.Component {
  constructor(props) {
    super(props)
    this.state = {
    // クラスでは、コンストラクタ内で、this.stateの初期値{ count: initialState }をセット
      count: initialState,
    }
  }

  render() {
    return (
      <>
          <p>現在の数字は {this.state.count} です</p>
          {/*ボタンをクリックした時に、this.setState()を呼ぶことでcountステートを更新 */}
          <button
            onClick={() => this.setState({ count: this.state.count + 1 })}
          >
            + 1
          </button>
          <button
            onClick={() => this.setState({ count: this.state.count - 1 })}
          >
            - 1
          </button>
          <button onClick={() => this.setState({ count: 0 })}>0</button>
          <button onClick={() => this.setState({ count: initialState })}>
            最初の数値に戻す
          </button>
 
      </>
    )
  }
}
```


src/App.js
```javascript
import {Counter} from "./Counter";

function App() {

  return (
    <div>
      <Counter/>
    </div>
  );
}

export default App;
```


# useEffect
src/Counter.js
```javascript
import React, { useState, useEffect } from 'react'

const Counter = () => {
    // countの初期値として、1~10までのランダムな数値を生成
    const initialState = Math.floor(Math.random() * 10) + 1
    // count という名前の state 変数を宣言、初期値 initialState をセット
    const [count, setCount] = useState(initialState)
    useEffect(() => {
        document.title = `${count}回クリックされました`
    }, [count])


    return (
        <>
            <p>現在の数字は{count}です</p>
            {/* setCount()は、countを更新するための関数。countを引数で受け取ることも出来る */}
            <button onClick={() => setCount(prevState => prevState + 1)}>
                + 1
            </button>
            <button onClick={() => setCount(count - 1)}>- 1</button>
            <button onClick={() => setCount(0)}>０</button>
            <button onClick={() => setCount(initialState)}>最初の数値に戻す</button>
        </>
    )
}

export default Counter
```